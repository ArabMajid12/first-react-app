<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      document.write("My name is Arsalan");
      const sale = [
        {
          id: 1,
          shopname: "A",
          shoptype: "Retail",
          sale: 500,
        },
        {
          id: 2,
          shopname: "B",
          shoptype: "Retail",
          sale: 200,
        },
        {
          id: 3,
          shopname: "C",
          shoptype: "Retail",
          sale: 300,
        },
        {
          id: 4,
          shopname: "D",
          shoptype: "wholesale",
          sale: 500,
        },
        {
          id: 5,
          shopname: "F",
          shoptype: "wholesale",
          sale: 300,
        },
        {
          id: 6,
          shopname: "E",
          shoptype: "wholesale",
          sale: 200,
        },
        {
          id: 7,
          shopname: "G",
          shoptype: "pharmacy",
          sale: 100,
        },
        {
          id: 8,
          shopname: "H",
          shoptype: "pharmacy",
          sale: 200,
        },
        {
          id: 9,
          shopname: "I",
          shoptype: "pharmacy",
          sale: 300,
        },
      ];

      function getUniqueShopTypes(arr, key) {
        const result = [];
        const map = new Map();
        for (const item of arr) {
          if (!map.has(item[key])) {
            map.set(item[key], true); // set any value to Map
            result.push(item.shoptype);
          }
        }
        return result;
      }

      // const shoptypes = getUniqueShopTypes(sale, "shoptype");
      // console.log(shoptypes);
      // let arr = []
      // sale.forEach(sal =>{

      //   for(type of shoptypes){
      //     if(sal.hasOwnProperty(type)){

      //     }
      //   }

      // })
      const shoptypes = {};
      for (const obj of sale) {
        if (shoptypes[obj.shoptype] === undefined) {
          shoptypes[obj.shoptype] = [];
        }

        shoptypes[obj.shoptype].push(obj);
      }

      for (const [key, value] of Object.entries(shoptypes)) {
        console.log(`${key}: ${value}`);

        value.forEach((val) => {
          // console.log(val);
        });
      }
    </script>
  </body>
</html>
